# AIME Wiki Environment Configuration
# Copy this file to .env.local and fill in the actual values

# ===================================
# API Keys and External Services
# ===================================

# YouTube API Key (required for YouTube integration)
YOUTUBE_API_KEY=your_youtube_api_key_here

# Airtable Configuration
AIRTABLE_API_KEY=your_airtable_api_key_here
AIRTABLE_BASE_ID=your_airtable_base_id_here

# GitHub Configuration (if using GitHub integration)
GITHUB_TOKEN=your_github_personal_access_token_here

# Mailchimp Configuration
MAILCHIMP_API_KEY=your_mailchimp_api_key_here
MAILCHIMP_AUDIENCE_ID=your_mailchimp_audience_id_here

# ===================================
# Database Configuration
# ===================================

# PostgreSQL Configuration (recommended for production)
DATABASE_URL=postgresql://username:password@localhost:5432/aime_wiki
# Or use individual variables:
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=aime_wiki
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=your_password
# POSTGRES_SSL=false
# POSTGRES_MAX_CONNECTIONS=20

# SQLite Configuration (fallback for development)
# If DATABASE_URL is not set, the app will use SQLite
SQLITE_DB_PATH=./data/aime-data-lake.db

# ===================================
# Redis Configuration
# ===================================

# Redis URL (required for caching)
REDIS_URL=redis://localhost:6379
# Or use Redis connection string:
# REDIS_CONNECTION_STRING=redis://username:password@localhost:6379/0

# Redis prefix for cache keys (optional)
REDIS_PREFIX=aime:

# ===================================
# Authentication & Security
# ===================================

# JWT Secret Key (REQUIRED - change this in production!)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# Legacy API Key (for backwards compatibility)
API_KEY=your_legacy_api_key_here
ADMIN_API_KEY=your_admin_api_key_here

# Session secret for additional security
SESSION_SECRET=your-session-secret-key

# ===================================
# Application Configuration
# ===================================

# Application URL
NEXT_PUBLIC_API_URL=http://localhost:3000/api
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Node environment
NODE_ENV=development

# ===================================
# Feature Flags
# ===================================

# Enable/disable features
ENABLE_YOUTUBE_SYNC=true
ENABLE_AIRTABLE_SYNC=true
ENABLE_GITHUB_INTEGRATION=true
ENABLE_REDIS_CACHE=true
ENABLE_POSTGRES_DB=true

# ===================================
# Rate Limiting & Performance
# ===================================

# Rate limiting (requests per minute)
RATE_LIMIT_READ=100
RATE_LIMIT_WRITE=20
RATE_LIMIT_ADMIN=10

# Cache TTL (Time To Live) in seconds
CACHE_TTL_SHORT=300        # 5 minutes
CACHE_TTL_MEDIUM=1800      # 30 minutes
CACHE_TTL_LONG=7200        # 2 hours
CACHE_TTL_VERY_LONG=86400  # 24 hours

# ===================================
# Monitoring & Logging
# ===================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# OpenTelemetry configuration (optional)
OTEL_EXPORTER_OTLP_ENDPOINT=your_otlp_endpoint_here
OTEL_SERVICE_NAME=aime-wiki-api

# ===================================
# Email Configuration (optional)
# ===================================

# SMTP configuration for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
SMTP_FROM=noreply@aime.wiki

# ===================================
# Development Settings
# ===================================

# Enable debug mode
DEBUG=false

# Disable authentication in development (NOT for production)
DISABLE_AUTH=false

# Mock external APIs in development
MOCK_EXTERNAL_APIS=false

# ===================================
# Deployment Configuration
# ===================================

# For Vercel deployment
VERCEL_URL=your-app.vercel.app

# For custom domain
CUSTOM_DOMAIN=your-custom-domain.com

# Health check endpoint
HEALTH_CHECK_ENDPOINT=/api/health

# ===================================
# Advanced Configuration
# ===================================

# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_ACQUIRE_TIMEOUT=30000
DB_POOL_IDLE_TIMEOUT=30000

# Redis connection settings
REDIS_RETRY_ATTEMPTS=3
REDIS_RETRY_DELAY=1000

# YouTube API quota management
YOUTUBE_QUOTA_LIMIT=10000
YOUTUBE_QUOTA_RESET_TIME=86400

# File upload limits
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx

# Search configuration
SEARCH_MAX_RESULTS=100
SEARCH_MIN_QUERY_LENGTH=2

# ===================================
# Security Headers
# ===================================

# Content Security Policy
CSP_REPORT_URI=/api/csp-report

# CORS configuration
CORS_ORIGIN=http://localhost:3000
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-API-Key